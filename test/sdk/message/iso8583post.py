from pystilion.sdk.message.iso8583post import Iso8583Post
     
if __name__ == "__main__":
    #msg=b'\x30\x32\x30\x30\xf2\x38\x44\xc1\xa0\xe8\x90\x00\x00\x00\x00\x00\x00\x00\x00\x22\x31\x36\x31\x31\x31\x31\x32\x32\x32\x32\x33\x33\x33\x33\x34\x34\x34\x34\x30\x31\x30\x30\x30\x30\x30\x30\x30\x30\x30\x30\x30\x34\x39\x39\x39\x39\x30\x32\x31\x31\x31\x33\x31\x30\x33\x31\x30\x30\x30\x30\x34\x32\x30\x39\x34\x30\x35\x33\x30\x32\x31\x31\x35\x33\x39\x39\x30\x32\x30\x30\x30\x30\x35\x30\x38\x31\x31\x31\x31\x32\x32\x32\x32\x30\x38\x33\x33\x33\x33\x34\x34\x34\x34\x33\x37\x31\x31\x31\x31\x32\x32\x32\x32\x33\x33\x33\x33\x34\x34\x34\x34\x3d\x31\x39\x31\x32\x31\x30\x31\x30\x30\x30\x30\x30\x30\x30\x30\x30\x30\x30\x30\x30\x31\x32\x33\x34\x35\x36\x37\x37\x31\x32\x33\x34\x35\x36\x37\x38\x39\x30\x31\x32\x33\x33\x33\x4d\x6f\x73\x61\x69\x63\x20\x53\x6f\x66\x74\x77\x61\x72\x65\x20\x20\x20\x20\x20\x20\x20\x20\x52\x6f\x6e\x64\x65\x62\x6f\x73\x63\x68\x20\x20\x20\x57\x43\x5a\x41\x33\x38\x42\x31\x31\x31\x31\x32\x32\x32\x32\x33\x33\x33\x33\x34\x34\x34\x34\x5e\x50\x69\x65\x74\x2f\x50\x6f\x6d\x70\x69\x65\x73\x5e\x30\x39\x31\x32\x31\x30\x31\x38\x34\x30\x66\x63\x15\x24\xe8\xde\xa3\x25\x30\x31\x35\x32\x30\x30\x31\x30\x31\x32\x30\x30\x30\x30\x30\x31\x30\x31\x30\x30\x30\x30\x39\x36\x40\x00\x04\x00\x00\x00\x00\x00\x32\x30\x30\x32\x30\x30\x30\x32\x31\x31\x31\x33\x31\x30\x33\x31\x30\x30\x30\x30\x34\x33\x30\x30\x30\x36\x31\x31\x34\x54\x65\x73\x74\x31\x33\x30\x31\x32\x32\x31\x31\x64\x63\x63\x54\x6f\x74\x61\x6c\x41\x6d\x74\x31\x34\x39\x39\x39\x39\x32\x31\x31\x64\x63\x63\x43\x75\x72\x72\x43\x6f\x64\x65\x31\x33\x34\x37\x34\x31\x34\x58\x58\x58\x58\x31\x33\x37\x37\x37'
    msg=b'0100\xf2<F\x80)\xe0\x80 \x00\x00\x00\x00\x00\x00\x00"196335409900600320206000000000000098000052512222712112212121212311903000005100141376335409900600320206=190310107200000000000010100091010065010184215272       JERSEY ST JOHN - ACCRED               GB826010~051000015015510101554141101000076A\x08\x04\x00\x00\x00\x00\x0016SIMNODE_00011624005SINK2              82600020214VisaAFDPartial111'
    bb=Iso8583Post(msg)
    print (bb.private.sd)
    #bb.private.sd.set_tag("a","12aaaaaaaaaaaaaaaddddddddddddddddddd3")
    #print (bb.private.get_field(22))
    print (bb)
    print (bb.to_msg())
    bb.private.sd.clear_tag("VisaAFDPartial")
    print (bb)
    print (bb.to_msg())
    bb.private.set_field(2,"abc")
    print (bb)
    bb.private.clear_field(2)
    print (bb)
    #print (binascii.hexlify(bb.to_msg()).decode('ascii'))
    #bb.private.set_field(22,"14Test1301214XXXX1377711a21812aaaaaaaaaaaaaaa3211dccCurrCode13474211dccTotalAmt149999")
    #sd=Sd()
    #sd.set_tag("name", "value")
    #bb.private.sd=sd
    #print (bb.private)
    
    

